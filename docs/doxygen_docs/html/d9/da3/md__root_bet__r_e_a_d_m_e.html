<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bet: Pangea-Bet</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Bet"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bet
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d9/da3/md__root_bet__r_e_a_d_m_e.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Pangea-Bet </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The aim of this project is to provide the necessary bet API's which are sufficient to play poker from the command line. The initial draft of the game written by jl777 is ./docs/BET_Initial_Draft.md "here".</p>
<p>Bet is the implementation of the Pangea protocol which nees LN and CHIPS. The installation of <a href="https://github.com/sg777/lightning">LN</a> and <a href="https://github.com/sg777/chips3">CHIPS</a> must be done before proceeding to play with bet.</p>
<p>## Steps to compile </p><div class="fragment"><div class="line"># Dependencies Check </div><div class="line"></div><div class="line">$ sudo apt-get install software-properties-common autoconf git build-essential libtool libprotobuf-c-dev libgmp-dev libsqlite3-dev python python3 zip jq libevent-dev pkg-config libssl-dev libcurl4-gnutls-dev cmake</div><div class="line"></div><div class="line">$ sudo apt install make ninja-build libsqlite3-dev libgmp3-dev</div><div class="line"></div><div class="line"># Install nanomsg-next-generation </div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/nanomsg/nng.git</div><div class="line">$ cd nng</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake -G Ninja ..</div><div class="line">$ ninja</div><div class="line">$ ninja test</div><div class="line">$ sudo ninja install</div><div class="line"></div><div class="line"># Installing libwebsockets</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/sg777/libwebsockets.git</div><div class="line">$ cd libwebsockets</div><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake -DLWS_WITH_HTTP2=1 ..</div><div class="line">$ make &amp;&amp; sudo make install</div><div class="line"></div><div class="line"># Install libwebsockets</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/sg777/libwebsockets.git</div><div class="line">$ mkdir build</div><div class="line">$ cmake ..</div><div class="line">$ make</div><div class="line">$ sudo make install</div><div class="line">$ ldconfig</div><div class="line"></div><div class="line"># Installing CHIPS</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/sg777/chips3.git</div><div class="line">$ cd chips3</div><div class="line">$ ./autogen.sh</div><div class="line">$ ./configure --with-boost=/usr/local/ </div><div class="line">$ cd src</div><div class="line">$ make -j8 chipsd</div><div class="line">$ make chips-cli</div><div class="line">$ sudo cp chips-cli /usr/bin # just need to get chips-cli to work from command line</div><div class="line"># make -&gt; will build everything, including QT wallet</div><div class="line">$ sudo ldconfig /usr/local/lib # thanks smaragda!</div><div class="line"># Running CHIPS Daemon</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ cd chips/src</div><div class="line">$ ./chipsd -addnode=5.9.253.195 &amp;</div><div class="line"></div><div class="line"># Installing Lightning Repo</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/sg777/lightning.git</div><div class="line">$ cd lightning</div><div class="line">$ make</div><div class="line">$ cd src</div><div class="line">$ cp lightning-cli /usr/bin</div><div class="line">$ ldconfig</div><div class="line"></div><div class="line"># Running Lightning Daemon</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ cd lightning</div><div class="line">$ ./lightningd/lightningd --log-level=debug &amp;</div><div class="line"></div><div class="line">#Installing Bet</div><div class="line"></div><div class="line">$ cd ~</div><div class="line">$ git clone https://github.com/sg777/bet.git</div><div class="line">$ cd bet</div><div class="line">$ make</div></div><!-- fragment --><h2>Usage of this repo</h2>
<p>The usage of this repo varies from branch to branch. Each branch has a different gaming logic and their intended gameplays are different.</p>
<p>The branches are listes as follow.</p><ul>
<li>master</li>
<li>dev</li>
<li>highest_card_wins</li>
<li>poker</li>
<li>mp_cli</li>
<li>rest_dev</li>
<li>poker_test</li>
</ul>
<h3>highest_card_wins</h3>
<p>This branch is used to play the highest card player wins game via CLI, two players can play the game. The player whoever gets the highest card wins the game.</p>
<h3>poker</h3>
<p>This branch is used to player poker via CLI</p>
<h3>mp_cli</h3>
<p>In this branch implementation is done to support more than two players, and also made a provision to pass the number of players from the command line</p>
<h3>rest_dev</h3>
<p>This branch is used to player poker via GUI, the GUI code should be taken from <code>poker</code> branch of <code>[pangea-poker-frontend](<a href="https://github.com/sg777/pangea-poker-frontend">https://github.com/sg777/pangea-poker-frontend</a>)</code> repo.</p>
<p>For the GUI developers the backend message formats are defined ./docs/messageFormats.md "here"</p>
<h3>poker_test</h3>
<p>This branch is used to player poker via GUI, the GUI code should be taken from <code>poker_test</code> branch of <code>[pangea-poker-frontend](<a href="https://github.com/sg777/pangea-poker-frontend">https://github.com/sg777/pangea-poker-frontend</a>)</code> repo.</p>
<h2>Communicating over IP Adress</h2>
<p>DCV nodes binds to the sockets created over the ports 7797 and 7798. The BVV and Player nodes connect to the binding address via subscribe and push sockets. Here DCV and BVV are the trusted notarized nodes in the network, DCV plays the central role in coordinating the game.</p>
<p>## Command to run DCV </p><div class="fragment"><div class="line">$ cd</div><div class="line">$ cd bet/privatebet</div><div class="line">$ ./bet dcv ipaddress_of_dcv</div><div class="line">(ipc:///tmp/bet.ipc) bound</div><div class="line">(ipc:///tmp/bet1.ipc) bound</div></div><!-- fragment --><p> ## Command to run BVV </p><div class="fragment"><div class="line">$ cd</div><div class="line">$ cd bet/privatebet</div><div class="line">$ ./bet bvv ipaddress_of_dcv</div><div class="line">(ipc:///tmp/bet.ipc) bound</div><div class="line">(ipc:///tmp/bet1.ipc) bound</div></div><!-- fragment --><p> ## Command to run Player </p><div class="fragment"><div class="line">$ cd</div><div class="line">$ cd bet/privatebet</div><div class="line">$ ./bet player ipaddress_of_dcv</div><div class="line">(ipc:///tmp/bet.ipc) bound</div><div class="line">(ipc:///tmp/bet1.ipc) bound</div></div><!-- fragment --> <h2>The scope of this repo</h2>
<p>Now using this repo, two players can bet in real time over the deck of cards which are randomly shuffled. In order to play the game any of the playing node can connect to the trusted DCV node in the network by providing it's IP Address. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Dec 31 2019 11:12:16 for Bet by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
